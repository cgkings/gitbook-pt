# RSS常用正则表达式

[https://tieba.baidu.com/p/5579905076?pv=1](https://tieba.baidu.com/p/5579905076?pv=1)

qbittorrent已经有一定的自动订阅能力了，通过正则表达式的使用已经完全可以满足我的使用需要，因此也就无需再额外使用Flexget或是IYUUAutoReseed来实现自动订阅和下载了。

例子1：**订阅x265 10bit编码的CHD小组的1080p重编码电影：**

```
202[12].+1080[Pp].+x265.+CHD.
```

* `202[12]`：也可以作写`(2021|2022)`，均匹配2021或2022，这都是新电影，不想匹配同名老电影。
* `.+`：匹配任意字符1次或多次。
* `.*`：匹配任意字符0次或多次。
* `.?`：匹配任意字符0次或1次。
* `1080[Pp]`：匹配“1080p”或“1080P”，因为通过上面第一步的RSS订阅地址的筛选后，仍然会有一部分不是1080p分辨率的电影混进来，添加此条件作再次筛选。
* `x265.+CHD`：匹配x265重编码的CHD压制的电影，因为通过上面第一步的RSS订阅地址的筛选后，仍然会有一部分x264编码的混进来，添加此条件作再次筛选。留下“CHD”筛选的原因同理。
* `(\[|\s|/|\*|【|】|\(|\)|\||：|:)`：匹配\[、空字符、/、\*、【、】、\、(、)、|这些符号，不确定有没有遗漏其他用作分隔符的符号，主要为了去除筛选那些其他电影在标题中添加了想要下载的电影名而又不是想下载的电影。
* `(守岛人|1921|革命者|中国医生……略)`：匹配中文电影名，用英文的话写在前面实在是太长了，就用中文代替吧。部分电影译名尚未固定，如有变化请自行修改。其中“|”这个符号（前面未使用“\”转义时）表示“或”。这一个条件可以删除，如果删除就表示只要是2020年或2021年所有电影均会下载。

**同时订阅x265.CHD和CHDWEB的新电影**

```ruby
202[12].+(1080[Pp].+x265.+CHD|(4[Kk]|2160[Pp]|1080[Pp]).+CHDWEB).*(\[|\s|/|\*|【|】|\(|\)|\||：|:)(黑神驹|九条命|李雷和韩梅梅|守岛人|1921|革命者|中国医生|红船|白蛇2：青蛇劫起|狙击手|怒火.*重案|盛夏未来|测谎人|兔子暴力|关于我妈的一切|扬名立万|平原上的摩西|忠犬八公|超能一家人|四海|我心飞扬|这个杀手不太冷静|流浪地球2|活死人军团|无限|速度与激情9|冰路营救|切勿擅动|明日之战|宝贝老板2|黑寡妇|密室逃生2|精灵旅社4|丛林奇航|X特遣队.+全员集结|失控玩家|披头士乐队：回归|假面之夜|毒液2|新蝙蝠侠|沙丘|007：无暇赴死|永恒族|超能敢死队|壮志凌云2?.*独行侠|碟中谍7|生化危机.*欢迎来到浣熊市|蜘蛛侠.*英雄无归|阿凡达.*水之道|大侦探福尔摩斯3|欢乐好声音2|王牌特工.?源起|355|深水|暗夜博士.*莫比亚斯|月球陨落|雷神4|尼罗河上的惨案|神秘海域|我的世界|奇异博士2|黑客帝国4|闪电侠|侏罗纪世界.+统治|变形金刚.+超能勇士崛起|小黄人.+(神偷奶爸前传|格鲁的崛起)|惊奇队长2|神奇动物在哪里3|夺宝奇兵5|黑亚当|穿靴子的猫.+最后的愿望|蜘蛛侠.*平行宇宙2|阿凡达3.*带种者|阿凡达4|阿凡达5|匹诺曹|瓦尔多|灰姑娘|尚气.*|蛛丝马迹|古墓丽影2)(\]|\s|/|\*|【|】|\(|\)|\||：|:)
```

* `(4[Kk]|2160[Pp]|1080[Pp]).+CHDWEB`：标题中含有4K/4k或含有2160P/p或含有1080P/p，且含有CHDWEB的

**订阅WiKi的新电影**

同理，在qbittorrent订阅源中添加TTG的订阅地址后，在RSS下载器添加以下下载规则：

```ruby
202[12].+1080[Pp].+WiKi.*(\[|\s|/|\*|【|】|\(|\)|\||：|:)(李雷和韩梅梅|守岛人|1921|革命者|中国医生|红船|白蛇2：青蛇劫起|狙击手|怒火.*重案|盛夏未来|测谎人|兔子暴力|关于我妈的一切|扬名立万|平原上的摩西|忠犬八公|超能一家人|四海|我心飞扬|这个杀手不太冷静|流浪地球2|活死人军团|无限|速度与激情9|冰路营救|切勿擅动|明日之战|宝贝老板2|黑寡妇|密室逃生2|精灵旅社4|丛林奇航|X特遣队.+全员集结|失控玩家|披头士乐队：回归|假面之夜|毒液2|新蝙蝠侠|沙丘|007：无暇赴死|永恒族|超能敢死队|壮志凌云2?.*独行侠|碟中谍7|生化危机.*欢迎来到浣熊市|蜘蛛侠.*英雄无归|阿凡达.*水之道|大侦探福尔摩斯3|欢乐好声音2|王牌特工.?源起|355|深水|暗夜博士.*莫比亚斯|月球陨落|雷神4|尼罗河上的惨案|神秘海域|我的世界|奇异博士2|黑客帝国4|闪电侠|侏罗纪世界.+统治|变形金刚.+超能勇士崛起|小黄人.+(神偷奶爸前传|格鲁的崛起)|惊奇队长2|神奇动物在哪里3|夺宝奇兵5|黑亚当|穿靴子的猫.+最后的愿望|蜘蛛侠.*平行宇宙2|阿凡达3.*带种者|阿凡达4|阿凡达5|匹诺曹|瓦尔多|灰姑娘|尚气.*|蛛丝马迹|古墓丽影2)(\]|\s|/|\*|【|】|\(|\)|\||：|:)
```

_解释同上。_

**同时订阅多个小组的新电影（需要在下载规则中勾选多个订阅名）**

```ruby
202[12].+1080[Pp].+(x265.+CHD|WiKi).*(\[|\s|/|\*|【|】|\(|\)|\||：|:)(李雷和韩梅梅|守岛人|1921|革命者|中国医生|红船|白蛇2：青蛇劫起|狙击手|怒火.*重案|盛夏未来|测谎人|兔子暴力|关于我妈的一切|扬名立万|平原上的摩西|忠犬八公|超能一家人|四海|我心飞扬|这个杀手不太冷静|流浪地球2|活死人军团|无限|速度与激情9|冰路营救|切勿擅动|明日之战|宝贝老板2|黑寡妇|密室逃生2|精灵旅社4|丛林奇航|X特遣队.+全员集结|失控玩家|披头士乐队：回归|假面之夜|毒液2|新蝙蝠侠|沙丘|007：无暇赴死|永恒族|超能敢死队|壮志凌云2?.*独行侠|碟中谍7|生化危机.*欢迎来到浣熊市|蜘蛛侠.*英雄无归|阿凡达.*水之道|大侦探福尔摩斯3|欢乐好声音2|王牌特工.?源起|355|深水|暗夜博士.*莫比亚斯|月球陨落|雷神4|尼罗河上的惨案|神秘海域|我的世界|奇异博士2|黑客帝国4|闪电侠|侏罗纪世界.+统治|变形金刚.+超能勇士崛起|小黄人.+(神偷奶爸前传|格鲁的崛起)|惊奇队长2|神奇动物在哪里3|夺宝奇兵5|黑亚当|穿靴子的猫.+最后的愿望|蜘蛛侠.*平行宇宙2|阿凡达3.*带种者|阿凡达4|阿凡达5|匹诺曹|瓦尔多|灰姑娘|尚气.*|蛛丝马迹|古墓丽影2)(\]|\s|/|\*|【|】|\(|\)|\||：|:)
```

_变化的只有`(x265.+CHD|WiKi)`，`(x265.+CHD|WiKi)`括号中的内容可以根据自己需要添加或修改。其中“|”这个符号在这里表示“或”。_

**订阅WiKi小组所有2020年、2021年的体积不大于29.99GB的1080p分辨率的电影**

```ruby
202[01].+1080[Pp].+WiKi.+\D[12]?\d\.\d{2}\sGB
```

* `\D`：匹配任意非数字字符1次。
* `[12]?`：匹配字符“1”或“2”，匹配次数为0次或1次。
* `\d`：匹配任意数字字符1次。
* `\.`：匹配小数点。
* `\d{2}`：匹配任意数字字符2次。
* `\s`：匹配空字符，所有RSS资源在表示体积的GB前都有一个空格。
* `GB`：匹配GB。\
  _上面这些条件连起来可以匹配体积不超过29.99 GB的资源，根据以上条件可以自己修改成为自己所需要的规则。_

**订阅WiKi小组所有2020年、2021年的体积介于5G至24.99GB之间的1080p分辨率的电影**

```ruby
(2020|2021).+1080[Pp].+WiKi.+\D([5-9]|1\d|2[0-4])\.\d{2}\sGB
```

* `([5-9]|1\d|2[0-4])`：匹配5至24。

**订阅HDH所有介于5-199.99GB之间的资源**

```ruby
HDH.*\D([5-9]|[1-9]\d|1\d{2})\.\d{2}\sGB
```

**如果你需要其他的正则表达式可以直接在下方留言详细描述你的需求**

\
请问大佬订阅HDCTV组大于200G的怎么写？GB是小数点后两位，TB是小数点后三位

\D\[2-9]\d{2}.\d{2}\sGB|\D\d+.\d{3}\sTB

我默认你只需要1080p，不需要720p。 下载所有wiki和ttg小组的带有1080p字样的种子：1080\[Pp].+(WiKi|TTG) 1-99.99GB wiki和ttg小组的1080p的种子：1080\[Pp].+(WiKi|TTG)\D\[1-9]\d?.\d{2}\sGB\\

请问50G以上怎么写？谢谢大佬！

\D((\[5-9]\d|\d{3}).\d{2}\sGB|\d+.\d+\sTB)

请问30G以上怎么写？谢谢大佬

\D((\[3-9]\d|\d{3}).\d{2}\sGB|\d+.\d+\sTB)

99.99G以内的种子，注意不会匹配0-999MB的。

\D\[1-9]?\d.\d{2}\sGB或者\D\d{1,2}.\d{2}\sGB或者\D\[123456789]?\d.\d{2}\sGB

请问如何匹配5g以下的包含100m的文件？

\D(\[1-4].\d{2}\sGB|\d{3}.\d{2}\sMB)
